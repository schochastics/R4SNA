<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.32">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Termeh Shafie and David Schoch">

<title>18&nbsp; Stochastic Actor Oriented Models (SAOMs) – R for Social Network Analysis</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../inferential/rem.html" rel="next">
<link href="../inferential/ergm.html" rel="prev">
<link href="../cover.png" rel="icon" type="image/png">
<script src="../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-f8cb7fe94b71c4ea6759b609738bfe9c.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="nav-sidebar floating quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../inferential/introduction.html">Inferential Network Analysis</a></li><li class="breadcrumb-item"><a href="../inferential/saom.html"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Stochastic Actor Oriented Models (SAOMs)</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../">R for Social Network Analysis</a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/schochastics/R4sna" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Welcome</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Introduction</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../network-data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Network Data</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Descriptive Network Analysis</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../descriptive/introduction.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../descriptive/descriptives-basic.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Basic Network Statistics</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../descriptive/centrality-basic.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Centrality</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../descriptive/centrality-advanced.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Advanced Centrality Concepts</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../descriptive/clustering.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Cohesive Subgroups</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../descriptive/two-mode-networks.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Two-Mode Networks</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../descriptive/signed-networks.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Signed Networks</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../descriptive/ego-networks.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Ego Networks</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">Network Visualization</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../visualization/introduction.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Introduction</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../visualization/ggraph-basics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Basics of ggraph</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../visualization/ggraph-advanced.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Advanced Layouts</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../visualization/enhance-viz.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Enhancing Visualizations</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../visualization/interactive-viz.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Interactive Visualization</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true">
 <span class="menu-text">Inferential Network Analysis</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../inferential/introduction.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Introduction</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../inferential/non-parametric.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Non-Parametric Methods</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../inferential/rgm.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Random Graph Models</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../inferential/ergm.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Exponential Random Graph Models (ERGMs)</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../inferential/saom.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Stochastic Actor Oriented Models (SAOMs)</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../inferential/rem.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">Relational event Models (REMs)</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true">
 <span class="menu-text">Tidy Network Analysis</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../tidy/introduction.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">20</span>&nbsp; <span class="chapter-title">Introduction</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../tidy/tidygraph-basics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">21</span>&nbsp; <span class="chapter-title">Basics of tidygraph</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../tidy/tidygraph-descriptive.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">22</span>&nbsp; <span class="chapter-title">Descriptive Network Analysis</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../tidy/tidygraph-summary.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">23</span>&nbsp; <span class="chapter-title">Summary</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true">
 <span class="menu-text">Additional Tools</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../additional/introduction.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">24</span>&nbsp; <span class="chapter-title">Introduction</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../additional/netropy.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">25</span>&nbsp; <span class="chapter-title">Entropy Analysis</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../additional/multigraphr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">26</span>&nbsp; <span class="chapter-title">Multigraph Approach</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../summary.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">27</span>&nbsp; <span class="chapter-title">Summary</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#packages-needed-for-this-chapter" id="toc-packages-needed-for-this-chapter" class="nav-link active" data-scroll-target="#packages-needed-for-this-chapter"><span class="header-section-number">18.1</span> Packages Needed for this Chapter</a></li>
  <li><a href="#modeling-network-evolution" id="toc-modeling-network-evolution" class="nav-link" data-scroll-target="#modeling-network-evolution"><span class="header-section-number">18.2</span> Modeling Network Evolution</a></li>
  <li><a href="#stochastic-processes-and-continuous-time-markov-chains" id="toc-stochastic-processes-and-continuous-time-markov-chains" class="nav-link" data-scroll-target="#stochastic-processes-and-continuous-time-markov-chains"><span class="header-section-number">18.3</span> Stochastic Processes and Continuous-Time Markov Chains</a></li>
  <li><a href="#formal-definition-of-saoms-as-continuous-time-markov-chains" id="toc-formal-definition-of-saoms-as-continuous-time-markov-chains" class="nav-link" data-scroll-target="#formal-definition-of-saoms-as-continuous-time-markov-chains"><span class="header-section-number">18.4</span> Formal Definition of SAOMs as Continuous-Time Markov Chains</a>
  <ul class="collapse">
  <li><a href="#state-space-of-networks" id="toc-state-space-of-networks" class="nav-link" data-scroll-target="#state-space-of-networks"><span class="header-section-number">18.4.1</span> State Space of Networks</a></li>
  <li><a href="#continuous-time-process" id="toc-continuous-time-process" class="nav-link" data-scroll-target="#continuous-time-process"><span class="header-section-number">18.4.2</span> Continuous-time process</a></li>
  <li><a href="#the-markov-property" id="toc-the-markov-property" class="nav-link" data-scroll-target="#the-markov-property"><span class="header-section-number">18.4.3</span> The Markov Property</a></li>
  <li><a href="#actor-oriented-modeling-assumptions" id="toc-actor-oriented-modeling-assumptions" class="nav-link" data-scroll-target="#actor-oriented-modeling-assumptions"><span class="header-section-number">18.4.4</span> Actor-Oriented Modeling Assumptions</a></li>
  <li><a href="#the-holding-time-and-the-jump-chain" id="toc-the-holding-time-and-the-jump-chain" class="nav-link" data-scroll-target="#the-holding-time-and-the-jump-chain"><span class="header-section-number">18.4.5</span> The Holding Time and The Jump Chain</a></li>
  <li><a href="#endogenous-effects-in-the-objective-function" id="toc-endogenous-effects-in-the-objective-function" class="nav-link" data-scroll-target="#endogenous-effects-in-the-objective-function"><span class="header-section-number">18.4.6</span> Endogenous Effects in the Objective Function</a></li>
  <li><a href="#exogenous-effects-in-the-objective-function" id="toc-exogenous-effects-in-the-objective-function" class="nav-link" data-scroll-target="#exogenous-effects-in-the-objective-function"><span class="header-section-number">18.4.7</span> Exogenous Effects in the Objective Function</a></li>
  <li><a href="#choosing-effects-for-the-objective-function" id="toc-choosing-effects-for-the-objective-function" class="nav-link" data-scroll-target="#choosing-effects-for-the-objective-function"><span class="header-section-number">18.4.8</span> Choosing Effects for the Objective Function</a></li>
  </ul></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/schochastics/R4sna/edit/main/inferential/saom.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/schochastics/R4sna/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../inferential/introduction.html">Inferential Network Analysis</a></li><li class="breadcrumb-item"><a href="../inferential/saom.html"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Stochastic Actor Oriented Models (SAOMs)</span></a></li></ol></nav>
<div class="quarto-title">
<h1 class="title"><span id="sec-saom" class="quarto-section-identifier"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Stochastic Actor Oriented Models (SAOMs)</span></span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>Up to this point, we have focused on modeling social networks as <strong>cross-sectional data</strong>, that is, as static snapshots of tie patterns observed at a single point in time. Models such as Erdős–Rényi, preferential attachment, and Exponential Random Graph Models (ERGMs) allow us to account for structural dependencies, attribute effects, and network complexity within such static networks.</p>
<p>However, social networks are inherently dynamic. Ties are not fixed; they emerge, dissolve, and evolve through time as a result of decisions made by individual actors. Treating network data as static ignores this core aspect of social life. A more realistic modeling approach must account for the sequential, actor-driven nature of network evolution.</p>
<p>This brings us to <strong>Stochastic Actor-Oriented Models (SAOMs)</strong>, a class of models explicitly designed for <strong>longitudinal network data</strong>. Unlike cross-sectional models that treat the network as a single outcome, SAOMs treat the network as a continuous-time stochastic process driven by individual actor decisions. In this framework, changes to the network occur one tie at a time, reflecting micro-level decisions made by actors based on preferences, opportunities, and constraints.</p>
<p>SAOMs are particularly well-suited for panel data, i.e., multiple observations of the same network over time where both tie structures and actor attributes may co-evolve. This allows researchers to address questions such as:</p>
<ul>
<li>How often do actors initiate or terminate ties?</li>
<li>Do actors prefer to form ties based on similarity (selection) or become more similar after forming ties (influence)?</li>
<li>How do structural tendencies like reciprocity or transitivity manifest through sequential decision-making?</li>
<li>Can we simulate or predict how the network may evolve in future time points?</li>
</ul>
<p>SAOMs are one of two main frameworks for dynamic network modeling. The other is the <strong>Temporal Exponential Random Graph Model (TERGM)</strong>. While TERGMs extend ERGMs to panel data by conditioning on past networks, SAOMs take a process-based view that explicitly models <em>how</em> ties change over time due to actor decisions.</p>
<p><a href="#tbl-ergmsaom" class="quarto-xref">Table&nbsp;<span>18.1</span></a> shows the core differences between ERGMs. While ERGMs model the global structure of a network at a single point in time, SAOMs treat network evolution as a dynamic process driven by actors making sequential decisions. In othr words, SAOMs extend the logic of ERGMs into the temporal domain, capturing the mechanisms of change rather than just the final structure.</p>
<div id="tbl-ergmsaom" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-ergmsaom-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;18.1: Comparison between Exponential Random Graph Models (ERGMs) and Stochastic Actor-Oriented Models (SAOMs). The two approaches differ in their treatment of time, unit of analysis, estimation, and interpretation.
</figcaption>
<div aria-describedby="tbl-ergmsaom-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="caption-top table">
<colgroup>
<col style="width: 28%">
<col style="width: 33%">
<col style="width: 37%">
</colgroup>
<thead>
<tr class="header">
<th></th>
<th>ERGMs</th>
<th>SAOMs</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Data type</strong></td>
<td>Cross-sectional (static snapshot)</td>
<td>Longitudinal (panel data, repeated observations)</td>
</tr>
<tr class="even">
<td><strong>Unit of analysis</strong></td>
<td>The entire network</td>
<td>Individual actor decisions</td>
</tr>
<tr class="odd">
<td><strong>Modeling approach</strong></td>
<td>Statistical dependence among ties</td>
<td>Actor-based tie change process</td>
</tr>
<tr class="even">
<td><strong>Time modeling</strong></td>
<td>No time dimension</td>
<td>Continuous-time change process</td>
</tr>
<tr class="odd">
<td><strong>Common mechanisms</strong></td>
<td>Reciprocity, transitivity, nodal covariates</td>
<td>Same, but expressed as actor preferences over changes</td>
</tr>
<tr class="even">
<td><strong>Estimation method</strong></td>
<td>MCMC Maximum Likelihood (MCMCMLE)</td>
<td>Simulation-based Method of Moments (MoM)</td>
</tr>
<tr class="odd">
<td><strong>Outcome</strong></td>
<td>Probability of the observed network</td>
<td>Simulated network trajectories over time</td>
</tr>
<tr class="even">
<td><strong>In R</strong></td>
<td><code>ergm</code> (or <code>statnet</code>)</td>
<td><code>RSiena</code></td>
</tr>
</tbody>
</table>
</div>
</figure>
</div>
<p>In what follows, we focus on the SAOM framework, its components, estimation process, and how it can be used to explain and simulate network evolution.</p>
<section id="packages-needed-for-this-chapter" class="level2" data-number="18.1">
<h2 data-number="18.1" class="anchored" data-anchor-id="packages-needed-for-this-chapter"><span class="header-section-number">18.1</span> Packages Needed for this Chapter</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(RSiena)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="modeling-network-evolution" class="level2" data-number="18.2">
<h2 data-number="18.2" class="anchored" data-anchor-id="modeling-network-evolution"><span class="header-section-number">18.2</span> Modeling Network Evolution</h2>
<p>Most real-world social networks are dynamic systems. Relationships between individuals form, dissolve, and evolve as a result of ongoing social interactions, personal decisions, and contextual factors. When we observe a single snapshot of a network, we can only speculate about the processes that produced it. By contrast, longitudinal network data, repeated observations of a network over time, allow us to move from static description to dynamic explanation.</p>
<p>Longitudinal network data consist of a set of actors <span class="math inline">\(N = \{1, 2, \dots, n\}\)</span> and a series of observed adjacency matrices: <span class="math display">\[
x(t_0),\ x(t_1),\ \dots,\ x(t_M)
\]</span> where each matrix captures the presence or absence of ties between actors at a particular time point.</p>
<p>These repeated measures make it possible to ask and answer key questions:</p>
<ul>
<li>How frequently do actors change their ties?</li>
<li>What drives the formation, maintenance, or dissolution of ties?</li>
<li>How do individual attributes (e.g., gender, age, group membership) shape network dynamics?</li>
<li>Can we predict how the network will evolve in the future?</li>
<li>How do both endogenous (network-based) and exogenous (attribute-based) factors jointly shape the network?</li>
</ul>
<p>Moreover, understanding <em>why</em> networks change requires distinguishing between competing explanations. For instance, if we observe that two similar actors are connected at time <span class="math inline">\(t_1\)</span>, this might reflect selection (they formed a tie because of their similarity) or influence (they became similar after forming a tie). Only a longitudinal framework allows us to tease apart these mechanisms.</p>
<p>Time also matters for structural tendencies. Consider transitivity: when we observe a triadic closure (i.e., if <span class="math inline">\(i\)</span> is tied to <span class="math inline">\(j\)</span> and <span class="math inline">\(j\)</span> to <span class="math inline">\(h\)</span>, then <span class="math inline">\(i\)</span> may become tied to <span class="math inline">\(h\)</span>), we cannot know whether it reflects an intentional closure or merely a residual pattern without knowing the order in which ties appeared.</p>
<p>Stochastic Actor-Oriented Models (SAOMs) offer a solution by treating network change as a <strong>continuous-time, actor-driven process</strong>. In this framework:</p>
<ul>
<li>The network evolves through a sequence of micro-steps where individual actors have opportunities to change their outgoing ties.</li>
<li>Each actor evaluates the current network and makes decisions based on preferences (e.g., for reciprocation, closure, or similarity).</li>
<li>The model simulates the timing and direction of these changes between observation moments (waves).</li>
</ul>
<p>This actor-oriented perspective aligns closely with how ties form in real life: individuals decide whom to connect with (or disconnect from), guided by structural cues and attribute-based tendencies.</p>
<p>In the next section, we will formalize this logic, introduce the core components of SAOMs, and show how the <code>RSiena</code> package implements these models for empirical analysis.</p>
</section>
<section id="stochastic-processes-and-continuous-time-markov-chains" class="level2" data-number="18.3">
<h2 data-number="18.3" class="anchored" data-anchor-id="stochastic-processes-and-continuous-time-markov-chains"><span class="header-section-number">18.3</span> Stochastic Processes and Continuous-Time Markov Chains</h2>
<p>To understand the dynamics of network evolution in Stochastic Actor-Oriented Models (SAOMs), it is helpful to first grasp the concept of a <strong>stochastic process</strong>; a collection of random variables indexed by time:</p>
<p><span class="math display">\[
\{ X(t), t \in T \}
\]</span> where:</p>
<ul>
<li><span class="math inline">\(T\)</span> is the index set (typically representing time),</li>
<li><span class="math inline">\(S\)</span> is the <strong>state space</strong>, the set of all possible values that <span class="math inline">\(X(t)\)</span> can take.</li>
</ul>
<p>A particular type of stochastic process relevant to SAOMs is the <strong>continuous-time Markov chain (CTMC)</strong>. A CTMC is defined by:</p>
<ol type="1">
<li>A finite <strong>state space</strong> <span class="math inline">\(S\)</span> (e.g., actor states or network configurations),</li>
<li>A <strong>continuous time domain</strong> <span class="math inline">\(t \in [0, \infty)\)</span>,</li>
<li>The <strong>Markov property</strong>: the future state depends only on the present state, not the past: <span class="math display">\[
P(X(t_j) = x_j \mid X(t) = x(t), \, \forall t \leq t_i) = P(X(t_j) = x_j \mid X(t_i) = x_i)
\]</span> This <strong>memoryless</strong> property allows us to model tie changes or actor decisions that depend only on the current configuration.</li>
</ol>
<p>The CTMC evolves through a sequence of randomly timed transitions. Each state is held for a random duration, and transitions to the next state are governed by probability. More formally, a CTMC is characterized by:</p>
<ul>
<li>When a change occurs — governed by the holding time, typically modeled with an exponential distribution.</li>
<li>What the next state is — determined by the jump matrix, which specifies the transition probabilities between states.</li>
</ul>
<p>Together, <strong>holding time</strong> and <strong>jump probabilities</strong> define the full behavior of the CTMC.</p>
<section id="example-a-cats-daily-activities" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="example-a-cats-daily-activities">Example: A Cat’s Daily Activities</h4>
<p>To bring the concept of a continuous-time Markov chain (CTMC) to life (or to all nine lives of our cat) consider a model of a house cat’s daily activities. At any given moment, the cat is in one of the following behavioral states:</p>
<ul>
<li><span class="math inline">\(0\)</span>: Sleeping</li>
<li><span class="math inline">\(1\)</span>: Eating</li>
<li><span class="math inline">\(2\)</span>: Playing</li>
<li><span class="math inline">\(3\)</span>: Plotting chaos (e.g., knocking things off shelves)</li>
</ul>
<p>We define <span class="math inline">\(X(t)\)</span> as the cat’s current activity at time <span class="math inline">\(t\)</span>. The process <span class="math inline">\(\{X(t), t \geq 0\}\)</span> satisfies:</p>
<ul>
<li>A finite state space <span class="math inline">\(S = \{0, 1, 2, 3\}\)</span><br>
</li>
<li>Continuous transitions over time<br>
</li>
<li>The Markov property: next state depends only on the current state</li>
</ul>
<p>The cat transitions between states at random times. Each stay in a state lasts for a random holding time, and transitions to the next state occur probabilistically based on a jump matrix.</p>
<p>The holding time <span class="math inline">\(T_i\)</span> in state <span class="math inline">\(i\)</span> is modeled using an exponential distribution: <span class="math display">\[
f_{T_i}(t) = \lambda_i e^{-\lambda_i t}, \quad t &gt; 0
\]</span></p>
<ul>
<li><span class="math inline">\(\lambda_i\)</span> is the rate of leaving state <span class="math inline">\(i\)</span>.</li>
<li><span class="math inline">\(\mathbb{E}[T_i] = \frac{1}{\lambda_i}\)</span> is the expected duration in state <span class="math inline">\(i\)</span>.</li>
</ul>
<p>The exponential distribution’s <strong>memoryless property</strong> means that the probability of remaining in a state is independent of how long the cat has already been in it: <span class="math display">\[
P(T_i &gt; s + t \mid T_i &gt; t) = P(T_i &gt; s)
\]</span> So, even after two hours of napping, the chance that the cat naps another 30 minutes is the same as if it had just started.</p>
<p>Once the holding time ends, the cat jumps to a new state. The <strong>transition matrix</strong> <span class="math inline">\(P = (p_{ij})\)</span> governs this: <span class="math display">\[
p_{ij} = P(X(t') = j \mid X(t) = i)
\]</span> For each state <span class="math inline">\(i\)</span>, the row of probabilities <span class="math inline">\(p_{ij}\)</span> must sum to 1: <span class="math display">\[
\sum_{j \in S} p_{ij} = 1
\]</span></p>
<p><a href="#fig-catex" class="quarto-xref">Figure&nbsp;<span>18.1</span></a> illustrates a single realization of such a process. This visual shows how a process starting in state 0 might stay there for some time, then jump to state 2, then state 3, and so on, with irregular intervals between jumps.</p>
<div id="fig-catex" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-catex-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="saom_files/figure-html/unnamed-chunk-2-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-catex-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;18.1: A realization of a continuous-time Markov chain (CTMC) showing the cat transitioning through behavioral states (Sleep → Play → Chaos → Sleep → Eat). Horizontal segments show how long each activity lasts (holding time), while vertical arrows show transitions (jumps) between states.
</figcaption>
</figure>
</div>
<p>Below is a hypothetical transition matrix <span class="math inline">\(P\)</span> for the cat’s behavioral states. Each row corresponds to the current state, and each column to the next state:</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th></th>
<th style="text-align: center;">Sleep</th>
<th style="text-align: center;">Eat</th>
<th style="text-align: center;">Play</th>
<th style="text-align: center;">Chaos</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Sleep</strong></td>
<td style="text-align: center;">0.00</td>
<td style="text-align: center;">0.70</td>
<td style="text-align: center;">0.83</td>
<td style="text-align: center;">0.56</td>
</tr>
<tr class="even">
<td><strong>Eat</strong></td>
<td style="text-align: center;">0.71</td>
<td style="text-align: center;">0.00</td>
<td style="text-align: center;">0.81</td>
<td style="text-align: center;">0.20</td>
</tr>
<tr class="odd">
<td><strong>Play</strong></td>
<td style="text-align: center;">0.05</td>
<td style="text-align: center;">0.82</td>
<td style="text-align: center;">0.00</td>
<td style="text-align: center;">0.45</td>
</tr>
<tr class="even">
<td><strong>Chaos</strong></td>
<td style="text-align: center;">0.91</td>
<td style="text-align: center;">0.46</td>
<td style="text-align: center;">0.61</td>
<td style="text-align: center;">0.00</td>
</tr>
</tbody>
</table>
<blockquote class="blockquote">
<p><em>Note: Diagonal entries (e.g., Sleep → Sleep) are set to zero for interpretability. They can be included to model the probability of no state change.</em></p>
</blockquote>
<p>Next, we can combine the states and transitions into a directed graph showing which states can be reached from one another, and with what likelihood. This is shown in <a href="#fig-catex2" class="quarto-xref">Figure&nbsp;<span>18.2</span></a>.</p>
<div id="fig-catex2" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-catex2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="saom_files/figure-html/unnamed-chunk-3-1.png" class="img-fluid figure-img" width="480"></p>
</figure>
</div>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-catex2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;18.2: Directed graph representation of the CTMC jump chain. Each node is a state (e.g., Sleep, Eat), and arrows represent possible transitions with associated probabilities.
</figcaption>
</figure>
</div>
<p><a href="#fig-catex2" class="quarto-xref">Figure&nbsp;<span>18.2</span></a> is a visual representation of this matrix. Each arrow in the graph corresponds to a non-zero entry <span class="math inline">\(p_{ij}\)</span> in the matrix. The curved edges indicate transitions between pairs of states, and the labels on the arrows match the values in the matrix. Together, the matrix and the graph describe a <strong>jump chain</strong> over the set of behavioral states. These transitions are stochastic (i.e., random), and their dynamics unfold in continuous time, which is what differentiates CTMCs from discrete-time Markov models.</p>
<p>In summary, a Continuous-Time Markov Chain (CTMC):</p>
<ul>
<li>Determines how long the system remains in a state using the holding time, typically modeled as exponentially distributed.</li>
<li>Uses a transition matrix (or jump matrix) to govern which state is entered next.</li>
<li>Is memoryless and evolves in continuous time, meaning the future depends only on the present state and not the past.</li>
</ul>
<p>These principles underpin Stochastic Actor-Oriented Models (SAOMs), where actors make sequential and probabilistic changes to their network ties or attributes, driven solely by the current network state.</p>
</section>
</section>
<section id="formal-definition-of-saoms-as-continuous-time-markov-chains" class="level2" data-number="18.4">
<h2 data-number="18.4" class="anchored" data-anchor-id="formal-definition-of-saoms-as-continuous-time-markov-chains"><span class="header-section-number">18.4</span> Formal Definition of SAOMs as Continuous-Time Markov Chains</h2>
<p>Stochastic Actor-Oriented Models (SAOMs), introduced by <span class="citation" data-cites="snijders1996stochastic">Snijders (<a href="../references.html#ref-snijders1996stochastic" role="doc-biblioref">1996</a>)</span>, provide a principled framework for analyzing how social networks evolve over time. To formally define the model, we start by framing them as a type of continuous-time Markov chain (CTMC), operating on a network space.</p>
<p>As previously introduced, a Continuous-Time Markov Chain (CTMC) is characterized by three key components:</p>
<ul>
<li>A finite state space: For SAOMs, this space includes all possible directed networks (i.e., all adjacency matrices) that can be constructed from <span class="math inline">\(n\)</span> actors.</li>
<li>A continuous-time process: Network changes (such as the creation or dissolution of ties) occur at random, unpredictable points in time.</li>
<li>The Markov property: The likelihood of a transition depends solely on the network’s current configuration, not on how it arrived there.</li>
</ul>
<p>In the sections that follow, we explore how each of these components applies specifically to SAOMs.</p>
<section id="state-space-of-networks" class="level3" data-number="18.4.1">
<h3 data-number="18.4.1" class="anchored" data-anchor-id="state-space-of-networks"><span class="header-section-number">18.4.1</span> State Space of Networks</h3>
<p>Let <span class="math inline">\(X\)</span> be the set of all possible adjacency matrices (i.e., network configurations) defined on <span class="math inline">\(n\)</span> actors. Each matrix corresponds to a different possible state of the network. The size of this space is:</p>
<p><span class="math display">\[
|X| = 2^{n(n-1)}
\]</span></p>
<p>This comes from the fact that each of the <span class="math inline">\(n(n-1)\)</span> possible directed ties between distinct actors can independently be either present (1) or absent (0).</p>
<p>For instance, with a 4-node directed network shown in <a href="#fig-saomex" class="quarto-xref">Figure&nbsp;<span>18.3</span></a>, we can represent different adjacency matrices as the network evolves over time. We see a step-by-step representation of how a network evolves through successive tie changes, starting from an empty network and progressing toward a fully connected one.</p>
<div id="fig-saomex" class="center quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-saomex-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="img/‎‎saom-state-ex.png" class="img-fluid figure-img" style="width:100.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-saomex-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;18.3: An example of how a directed network grows step by step as ties are added. Each panel pairs the network with its adjacency matrix, where a 1 indicates a directed tie. The process moves from an empty network to a fully connected one.
</figcaption>
</figure>
</div>
</section>
<section id="continuous-time-process" class="level3" data-number="18.4.2">
<h3 data-number="18.4.2" class="anchored" data-anchor-id="continuous-time-process"><span class="header-section-number">18.4.2</span> Continuous-time process</h3>
<p>Stochastic Actor-Oriented Models (SAOMs) are based on the assumption that social networks evolve as a continuous-time Markov process. This means the network changes gradually and randomly over time through small, actor-driven steps such as adding or removing ties.</p>
<p>However, in empirical studies, we rarely observe the full trajectory of these changes. Instead, we only see the network at a limited number of discrete observation moments (e.g., survey waves at <span class="math inline">\(t_1\)</span>, <span class="math inline">\(t_2\)</span>, <span class="math inline">\(\ldots\)</span>). The actual tie changes (who added or dropped a connection and when) occur in the unobserved latent process between these time points.</p>
<p>This distinction is critical:</p>
<ul>
<li>Observed process: snapshots of the network at specific time points.</li>
<li>Latent process: the underlying continuous sequence of micro-steps, where actors make sequential, stochastic decisions based on the current state of the network.</li>
</ul>
<p>SAOMs aim to reconstruct and simulate this hidden evolution process, inferring the actor behaviors that most likely produced the observed transitions.</p>
<p>[image] network states evolve at <span class="math inline">\(t_0\)</span>, <span class="math inline">\(t_1\)</span>, …, but what we observe are discrete “snapshots” of this hidden continuous-time trajectory.</p>
</section>
<section id="the-markov-property" class="level3" data-number="18.4.3">
<h3 data-number="18.4.3" class="anchored" data-anchor-id="the-markov-property"><span class="header-section-number">18.4.3</span> The Markov Property</h3>
<p>A central assumption of Stochastic Actor-Oriented Models (SAOMs) is that the probability of moving to a new network state depends only on the current state, not on the path taken to get there. This is the Markov property and is formally defined as: <span class="math display">\[
P(X(t_j) = x_j \mid X(t) = x(t), \, \forall t \leq t_i) = P(X(t_j) = x_j \mid X(t_i) = x_i)
\]</span> where <span class="math inline">\(X(t)\)</span> denotes the state (i.e., network configuration) at time <span class="math inline">\(t\)</span>. In other words, the future evolution of the process depends solely on the present state <span class="math inline">\(x_i\)</span> and not on the entire sequence of previous states. The model is memoryless: it “forgets” the past once the current state is known.</p>
<p>In the context of SAOMs, this means that when an actor is given the opportunity to make a change, such as forming or dissolving a tie, they do so based only on the present network structure and covariate information. There is no dependence on the path the network took to reach its current configuration.</p>
<p>This assumption significantly simplifies the modeling of network dynamics. It eliminates the need to track full network histories and allows for tractable simulation-based estimation. Conceptually, it also aligns with many social processes where actors respond to their current social environment rather than recalling a complete relational past.</p>
<p>Nonetheless, the Markov assumption is a modeling abstraction. While it facilitates analysis and interpretation, it may not capture certain behaviors where history matters such as long-term reciprocity, reputation building, or delayed responses. Still, for many applications, it offers a powerful and flexible framework for understanding how networks evolve over time.</p>
</section>
<section id="actor-oriented-modeling-assumptions" class="level3" data-number="18.4.4">
<h3 data-number="18.4.4" class="anchored" data-anchor-id="actor-oriented-modeling-assumptions"><span class="header-section-number">18.4.4</span> Actor-Oriented Modeling Assumptions</h3>
<p>A central challenge in modeling network dynamics is the vast number of possible future configurations. For a directed network with <span class="math inline">\(n\)</span> actors, there are <span class="math inline">\(2^{n(n-1)}\)</span> possible states—making exhaustive evaluation of all potential transitions computationally infeasible.</p>
<p>SAOMs address this by adopting an <strong>actor-driven approach</strong>. Instead of modeling global changes to the network, SAOMs assume that individual actors make decisions about their outgoing ties through a series of small, sequential updates. This simplifies the modeling process while remaining grounded in a realistic representation of social behavior.</p>
<p>The SAOM framework relies on three core assumptions:</p>
<ol type="1">
<li><p><em>One actor at a time</em>: At each micro-step, a single actor is randomly selected and given the opportunity to revise their outgoing ties. This reflects individual, sequential decision-making.</p></li>
<li><p><em>One tie at a time</em>: The selected actor may consider one outgoing tie—either forming it, dissolving it, or choosing to leave it unchanged. Only one tie can be changed per step, which keeps the space of possible transitions manageable.</p></li>
<li><p><em>Actor-controlled change</em>: Each actor controls only their own outgoing ties. Tie changes arise solely from the actor’s individual evaluation of the network and are not the result of simultaneous or coordinated actions.</p></li>
</ol>
<p>Together, these assumptions define a process of sequential micro-steps, each involving:</p>
<ul>
<li>Selecting an actor at random,</li>
<li>Considering one possible tie change,</li>
<li>And waiting a randomly determined time before the next opportunity arises.</li>
</ul>
<p>This process unfolds in continuous time and follows the structure of a continuous-time Markov chain (CTMC). It consists of two key components: the holding time; which determines how long the current network state persists, and the jump chain; which defines the probability of transitioning to a new network state via a single tie change.</p>
</section>
<section id="the-holding-time-and-the-jump-chain" class="level3" data-number="18.4.5">
<h3 data-number="18.4.5" class="anchored" data-anchor-id="the-holding-time-and-the-jump-chain"><span class="header-section-number">18.4.5</span> The Holding Time and The Jump Chain</h3>
<p>The <strong>holding time</strong> in SAOMs refers to the waiting period before an actor is given the opportunity to change one of their outgoing ties. In accordance with the properties of a continuous-time Markov chain (CTMC), this waiting time is modeled as an exponentially distributed random variable.</p>
<p>For actor <span class="math inline">\(i\)</span>, the holding time <span class="math inline">\(T_i\)</span> has the following probability density function: <span class="math display">\[
f_{T_i}(t) = \lambda_i e^{-\lambda_i t}, \quad \lambda_i &gt; 0, \quad t &gt; 0
\]</span> Here, <span class="math inline">\(\lambda_i\)</span> is the rate parameter, determining how frequently actor <span class="math inline">\(i\)</span> receives opportunities to change their ties. The choice of <span class="math inline">\(\lambda_i\)</span> defines how the actor selection process unfolds:</p>
<ul>
<li>Homogeneous specification: All actors have the same rate <span class="math inline">\(\lambda\)</span>, implying equal opportunity: <span class="math display">\[
\lambda_i = \lambda \quad \text{for all } i, \qquad P(i \text{ has opportunity for change}) = \frac{1}{n}
\]</span></li>
<li>Heterogeneous specification: The rate varies across actors based on covariates or network structure: <span class="math display">\[
\lambda_i = \lambda_i(\theta, x, v)
\]</span> where <span class="math inline">\(\theta\)</span> is a parameter vector, <span class="math inline">\(x\)</span> is the current network configuration, and <span class="math inline">\(v\)</span> are actor-specific covariates. In this case: <span class="math display">\[
P(i \text{ has opportunity for change}) = \frac{\lambda_i(\theta, x, v)}{\sum_{j=1}^{n} \lambda_j(\theta, x, v)}
\]</span> This flexibility allows the model to reflect actor-level heterogeneity in the speed of network change. However, for simplicity and interpretability, we often assume that all actors have the same average rate of change—that is, <span class="math inline">\(\lambda\)</span> is constant across actors, but may vary over time. In this case, actors are equally likely to be selected at any given moment, though the overall tempo of change can still shift over time depending on the time-varying rate parameter.</li>
</ul>
<p>This setup relies on the memoryless property of the exponential distribution: <span class="math display">\[
P(T_i &gt; s + t \mid T_i &gt; t) = P(T_i &gt; s)
\]</span> That is, the probability that actor <span class="math inline">\(i\)</span> will be selected in the next instant is unaffected by how long they have already been waiting. This property aligns naturally with the continuous-time Markov assumption and greatly simplifies simulation. In summary, the holding time determines when micro-steps occur. It is random, memoryless, and—depending on the specification—either homogeneous or heterogeneous across actors, shaping the rhythm of network evolution in SAOMs.</p>
<p>Once an actor has been selected and the waiting time (holding time) has elapsed, the next question becomes: <em>what</em> change (if any) will this actor make to the network? This is where the <strong>jump chain</strong> which governs what change occurs once an actor is selected. At each micro-step, actor <span class="math inline">\(i\)</span> evaluates a set of feasible alternatives <span class="math inline">\(\{x^{(1)}, x^{(2)}, \dots, x^{(J)}\}\)</span>, each differing from the current network <span class="math inline">\(x\)</span> by a change in one of <span class="math inline">\(i\)</span>’s outgoing ties—either forming, dissolving, or maintaining a tie.</p>
<p>Each alternative <span class="math inline">\(x^{(j)}\)</span> is assigned a utility:</p>
<p><span class="math display">\[
U_{ij} = F_{ij} + \varepsilon_{ij}
\]</span></p>
<p>Here, <span class="math inline">\(F_{ij}\)</span> represents the deterministic component of the utility function—typically defined through an evaluation function that incorporates structural effects like reciprocity, transitivity, or covariate similarity. The <span class="math inline">\(\varepsilon_{ij}\)</span> term introduces randomness via a Gumbel-distributed disturbance, reflecting unobserved preferences or decision noise.</p>
<p>This setup defines a <strong>random utility model</strong>, where actor <span class="math inline">\(i\)</span> selects among alternatives probabilistically rather than deterministically. Under the Gumbel assumption, the choice probabilities follow the familiar multinomial logit:</p>
<p><span class="math display">\[
p_{ij} = \frac{\exp(F_{ij})}{\sum_{h=1}^{J} \exp(F_{ih})}
\]</span></p>
<p>These probabilities form a jump matrix <span class="math inline">\(P = (p_{ij})\)</span>, describing the likelihood of transitioning from one network state to another. Because only one actor can change one tie at each micro-step, the number of feasible transitions is small, and the matrix is extremely sparse; a feature that makes SAOMs computationally tractable even for large networks.</p>
<p>We can now elaborate more precisely on how this deterministic component <span class="math inline">\(F_{ij}\)</span> is constructed. It is typically written as an <strong>objective function</strong> composed of weighted network statistics:</p>
<p><span class="math display">\[
f_i(\theta, x') = \sum_{k=1}^{K} \theta_k \cdot s_k(x', v)
\]</span></p>
<p>where:</p>
<ul>
<li><span class="math inline">\(x'\)</span> is the candidate network after a tie change,</li>
<li><span class="math inline">\(s_k(x', v)\)</span> is the <span class="math inline">\(k\)</span>-th effect evaluated on <span class="math inline">\(x'\)</span> (e.g., number of mutual ties),</li>
<li><span class="math inline">\(\theta_k\)</span> is the parameter associated with that effect.</li>
</ul>
<p>This formulation provides a clear interpretation: actors evaluate the desirability of possible tie changes based on known network mechanisms and covariates. The random utility formulation introduces variability in behavior while allowing estimation of interpretable model parameters <span class="math inline">\(\theta\)</span>.</p>
<p>In summary, the jump chain models which network configuration the process will move to, conditional on actor selection. Combined with the holding time, which governs <em>when</em> actors are selected, it defines the dynamics of the SAOM as a continuous-time Markov process. Actor decisions are sequential, stochastic, and based only on the current network—preserving the Markov property and allowing for rich but tractable modeling of network evolution.</p>
</section>
<section id="endogenous-effects-in-the-objective-function" class="level3" data-number="18.4.6">
<h3 data-number="18.4.6" class="anchored" data-anchor-id="endogenous-effects-in-the-objective-function"><span class="header-section-number">18.4.6</span> Endogenous Effects in the Objective Function</h3>
<p>The objective function introduced above is composed of a linear combination of effects, each capturing a specific structural pattern or social mechanism. These effects are conceptually similar to those used in Exponential Random Graph Models (ERGMs), although they differ in interpretation due to the dynamic and actor-oriented nature of SAOMs.These effects fall into two main categories:</p>
<ul>
<li>Endogenous effects: derived from the structure of the network itself.</li>
<li>Exogenous effects: related to external actor attributes (covered in the next section).</li>
</ul>
<p>The objective function for actor <span class="math inline">\(i\)</span> evaluating network <span class="math inline">\(x'\)</span> can be written as: <span class="math display">\[
f_i(x') = \sum_k \theta_k \cdot s_{ik}(x’)
\]</span> where <span class="math inline">\(\theta_k\)</span> is the parameter for effect <span class="math inline">\(k\)</span>, and <span class="math inline">\(s_{ik}(x')\)</span> is the statistic for effect <span class="math inline">\(k\)</span> as computed for actor <span class="math inline">\(i\)</span> in network <span class="math inline">\(x'\)</span>. Each effect enters the evaluation function with an associated parameter to be estimated from data. The weighted sum of these effects (plus random noise) determines the actor’s utility for each potential tie change. This guides the probabilistic decision-making process at the heart of the SAOM framework.</p>
<p>This section focuses on a few commonly used endogenous effect; those based solely on the structure of the network (without using external covariates). Many other effects can be modeled, depending on the theoretical focus and complexity of the network under study.</p>
<section id="outdegree-effect" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="outdegree-effect">Outdegree Effect</h4>
<p>Similar to the <code>edges</code> term in ERGM, this effect reflects the tendency (or cost) of maintaining ties. It counts the number of outgoing ties from actor <span class="math inline">\(i\)</span> in the new network configuration <span class="math inline">\(x'\)</span>:</p>
<p><span class="math display">\[
s_i^{\text{out}}(x’) = \sum_j x’_{ij}
\]</span> This term typically has a negative coefficient, penalizing actors for having too many ties, and thus introducing a cost to maintaining social relationships.</p>
</section>
<section id="reciprocity-effect" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="reciprocity-effect">Reciprocity Effect</h4>
<p>The reciprocity effect captures the tendency for actors to form mutual ties (equivalent to the <code>mutual</code> term in ERGMs). It counts how many of actor i’s outgoing ties are reciprocated: <span class="math display">\[
s_i^{\text{rec}}(x') = \sum_j x'{ij} x'{ji}
\]</span> A positive coefficient for this effect reflects a preference for mutual connections, e.g., <em>“I send a tie to those who also send one to me.”</em></p>
</section>
<section id="transitive-triplets-effect" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="transitive-triplets-effect">Transitive Triplets Effect</h4>
<p>Closely related to the <code>triangles</code> or <code>GWESP</code> terms in ERGMs, this effect models triadic closure. The transitive effect reflects a tendency for triadic closure. If actor <span class="math inline">\(i\)</span> sends a tie to <span class="math inline">\(h\)</span>, and <span class="math inline">\(h\)</span> sends a tie to <span class="math inline">\(j\)</span>, then <span class="math inline">\(i\)</span> is more likely to send a tie to <span class="math inline">\(j\)</span>:</p>
<p><span class="math display">\[
s_i^{\text{trans}}(x’) = \sum_{j,h} x’{ij} x’{ih} x’_{hj}
\]</span> This effect models social closure or hierarchy and contributes to the formation of cohesive subgroups or cliques.</p>
</section>
<section id="three-cycle-effect" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="three-cycle-effect">Three-Cycle Effect</h4>
<p>The three-cycle effect (think cyclic triads in ERGMs) captures the tendency of actors to form circular structures in the network, i.e.&nbsp;it captures feedback loops in the network. Specifically, it counts the number of directed cycles of length three involving actor <span class="math inline">\(i\)</span>: <span class="math display">\[
s_i^{\text{cyc}}(x') = \sum_{j,h} x'{ij} x'{jh} x'_{hi}
\]</span> This effect often receives a negative coefficient, discouraging cyclic patterns that may indicate instability or lack of hierarchy.</p>
<p>Next, we introduce exogenous effects, which link actor behavior to covariates such as attributes or group memberships.</p>
</section>
</section>
<section id="exogenous-effects-in-the-objective-function" class="level3" data-number="18.4.7">
<h3 data-number="18.4.7" class="anchored" data-anchor-id="exogenous-effects-in-the-objective-function"><span class="header-section-number">18.4.7</span> Exogenous Effects in the Objective Function</h3>
<p>In addition to modeling endogenous network tendencies, like reciprocity or transitivity, SAOMs allow the inclusion of exogenous covariates that influence tie formation. These covariates may pertain to individual-level attributes (e.g., age, status, gender) or to dyadic relationships (e.g., geographical distance, attribute similarity). Just like in ERGMs, these effects enter the objective function, which represents the utility an actor associates with each possible network configuration.</p>
<p>Below are common types of exogenous effects.</p>
<section id="individual-level-covariate-effects" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="individual-level-covariate-effects">Individual-Level Covariate Effects</h4>
<p>These are based on node-level covariates and can enter the objective function in two ways:</p>
<ol type="1">
<li><p>Covariate-Ego Effect<br>
This effect captures whether actors with a particular covariate value are more (or less) likely to form ties. <span class="math display">\[
s_i^{\text{ego}}(x', v) = v_i \sum_j x'_{ij}
\]</span> Here, <span class="math inline">\(v_i\)</span> is the covariate value for actor <span class="math inline">\(i\)</span> (the sender), and the statistic counts how many ties they initiate. If the covariate is binary, this can test whether having a trait (e.g., being in a particular group) is associated with being more active.</p></li>
<li><p>Covariate-Alter Effect<br>
This reflects a preference for forming ties to others with certain attribute values. <span class="math display">\[
s_i^{\text{alter}}(x', v) = \sum_j x'_{ij} v_j
\]</span> Actors are more likely to send ties to alters with higher (or lower) covariate values, depending on the sign of the corresponding parameter.</p></li>
</ol>
</section>
<section id="dyadic-covariate-effects" class="level4 unnumbered">
<h4 class="unnumbered anchored" data-anchor-id="dyadic-covariate-effects">Dyadic Covariate Effects</h4>
<p>SAOMs also allow modeling based on dyadic similarity, capturing whether actors prefer to connect with others who are similar in some attribute.</p>
<p>TRhe statistic for covariate-related similarity <span class="math display">\[
s_i^{\text{sim}}(x', v) = \sum_j x'_{ij} \left( 1 - \frac{|v_i - v_j|}{\text{Range}(v)} \right)
\]</span> increases when <span class="math inline">\(i\)</span> sends ties to actors <span class="math inline">\(j\)</span> who are similar in covariate values. The similarity is normalized to a [0,1] scale, where 1 means perfect similarity. For binary covariates, this simplifies to an indicator function: <span class="math display">\[
s_i^{\text{sim}}(x', v) = \sum_j x'_{ij} \cdot I(v_i = v_j)
\]</span></p>
<p>This captures simple homophily; a tendency to connect with others who share the same attribute (e.g., same gender or group membership).</p>
</section>
</section>
<section id="choosing-effects-for-the-objective-function" class="level3" data-number="18.4.8">
<h3 data-number="18.4.8" class="anchored" data-anchor-id="choosing-effects-for-the-objective-function"><span class="header-section-number">18.4.8</span> Choosing Effects for the Objective Function</h3>
<p>When specifying a Stochastic Actor-Oriented Model (SAOM), a central task is selecting which effects to include in the actor’s objective function. At a minimum, outdegree (a baseline tendency to form ties) and reciprocity (the preference for mutual ties) must always be included. Beyond these, additional effects should be guided by substantive theory or research hypotheses. For example, if theory suggests that individuals tend to befriend friends of their friends, a transitive triplet effect may be appropriate. If social similarity (homophily) based on covariates like gender is expected, covariate-related similarity effects can be added. These choices tailor the model to reflect specific structural patterns or attribute-driven mechanisms. While only a few examples are shown here, SAOMs offer a broad range of endogenous and exogenous effects that researchers can incorporate to test theoretically meaningful network processes.</p>


<div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list" style="display: none">
<div id="ref-snijders1996stochastic" class="csl-entry" role="listitem">
Snijders, Tom AB. 1996. <span>“Stochastic Actor-Oriented Models for Network Change.”</span> <em>Journal of Mathematical Sociology</em> 21 (1-2): 149–72.
</div>
</div>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/schochastics\.io\/R4SNA");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../inferential/ergm.html" class="pagination-link" aria-label="Exponential Random Graph Models (ERGMs)">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Exponential Random Graph Models (ERGMs)</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../inferential/rem.html" class="pagination-link" aria-label="Relational event Models (REMs)">
        <span class="nav-page-text"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">Relational event Models (REMs)</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>R for Social Network Analysis was written by Termeh Shafie and David Schoch.</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    <div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/schochastics/R4sna/edit/main/inferential/saom.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/schochastics/R4sna/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></div>
    <div class="nav-footer-right">
<p>This book was built with <a href="https://quarto.org/">Quarto</a>.</p>
</div>
  </div>
</footer>




</body></html>